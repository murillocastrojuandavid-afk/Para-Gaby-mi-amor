<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Galaxy IA Ultra - Amor Girando</title>
<style>
html, body {
    margin: 0;
    padding: 0;
    overflow: hidden;
    background: black;
}
canvas { display:block; }
</style>
</head>
<body>

<script src="https://cdn.jsdelivr.net/npm/three@0.160.0/build/three.min.js"></script>

<script>
let scene, camera, renderer;
let galaxyGroup;
let isDragging = false;
let prevX = 0, prevY = 0;

// Lista de planetas (palabras)
let planets = [];

init();
animate();

function init(){
    scene = new THREE.Scene();

    camera = new THREE.PerspectiveCamera(
        60,
        window.innerWidth/window.innerHeight,
        0.1,
        5000
    );
    camera.position.z = 1000;

    renderer = new THREE.WebGLRenderer({antialias:true});
    renderer.setSize(window.innerWidth, window.innerHeight);
    renderer.setPixelRatio(window.devicePixelRatio);
    renderer.setClearColor(0x000000,1);
    document.body.appendChild(renderer.domElement);

    galaxyGroup = new THREE.Group();
    scene.add(galaxyGroup);

    // ðŸŒŸ IluminaciÃ³n
    const ambient = new THREE.AmbientLight(0xffffff, 0.6);
    scene.add(ambient);
    const pointLight = new THREE.PointLight(0x88ccff, 3, 3000);
    pointLight.position.set(0,0,500);
    scene.add(pointLight);
    const glowLight = new THREE.PointLight(0xff88ff, 2, 3000);
    glowLight.position.set(0,0,-500);
    scene.add(glowLight);

    // âœ¨ Estrellas
    const starGeo = new THREE.BufferGeometry();
    const starCount = 12000;
    const starPos = [];
    for(let i=0;i<starCount;i++){
        let x = (Math.random()-0.5)*3000;
        let y = (Math.random()-0.5)*3000;
        let z = (Math.random()-0.5)*3000;
        starPos.push(x,y,z);
    }
    starGeo.setAttribute('position', new THREE.Float32BufferAttribute(starPos,3));
    const starMat = new THREE.PointsMaterial({
        color: 0xffffff,
        size: 2,
        transparent:true,
        opacity:0.8
    });
    const stars = new THREE.Points(starGeo, starMat);
    galaxyGroup.add(stars);

    // ðŸŒ€ NÃºcleo GalÃ¡ctico
    const coreGeo = new THREE.SphereGeometry(60,64,64);
    const coreMat = new THREE.MeshStandardMaterial({
        color: 0xffffff,
        emissive: 0xff99ff,
        emissiveIntensity: 2,
        roughness: 0,
        metalness: 1
    });
    const core = new THREE.Mesh(coreGeo, coreMat);
    galaxyGroup.add(core);

    // Frases de amor como planetas
    const words = [
        "MI NIÃ‘A","MI PRINCESA","MI CORAZON","MI VIDA","MI AMOR","MI REINA","MI TODO",
        "MI CIELO","MI LUZ","MI UNIVERSO","ERES MI TODO","TE AMO","TE ADORO","TE NECESITO",
        "MI ALMA","MI DESTINO","MI FELICIDAD","MI PAZ","MI HOGAR","MI SUEÃ‘O","MI ANGEL",
        "MI TESORO","MI RAZON","MI INFINITO","MI ESTRELLA","MI GALAXIA","MI VIDA ENTERA",
        "MI AMOR ETERNO","MI NIÃ‘A HERMOSA","MI PRINCESA HERMOSA","MI REINA BELLA",
        "MI CIELO HERMOSO","MI AMOR BONITO","MI LUZ HERMOSA","MI UNIVERSO ENTERO",
        "MI VIDA BONITA","MI AMOR VERDADERO","MI AMOR REAL","MI AMOR PURO",
        "MI AMOR SINCERO","MI AMOR INFINITO","MI AMOR PARA SIEMPRE","MI CORAZON BONITO",
        "MI NIÃ‘A LINDA","MI TODO HERMOSO","MI TODO PERFECTO","MI AMOR ETERNO",
        "ERES MI VIDA","ERES MI LUZ","ERES MI UNIVERSO","ERES MI TODO"
    ];

    words.forEach((text,i)=>{
        const canvas = document.createElement("canvas");
        const ctx = canvas.getContext("2d");
        canvas.width = 512;
        canvas.height = 256;

        ctx.clearRect(0,0,512,256);
        ctx.font="bold 60px Arial";
        ctx.textAlign="center";
        ctx.textBaseline="middle";
        ctx.fillStyle="white";
        ctx.shadowColor="#ff99ff";
        ctx.shadowBlur=25;
        ctx.fillText(text,256,128);

        const texture = new THREE.CanvasTexture(canvas);
        const mat = new THREE.SpriteMaterial({map:texture, transparent:true});
        const sprite = new THREE.Sprite(mat);

        // Definir Ã³rbita
        const radius = 300 + Math.random()*500; // distancia al nÃºcleo
        const angle = Math.random()*Math.PI*2; // posiciÃ³n inicial
        const yPos = (Math.random()-0.5)*200; // altura

        // Dibujar lÃ­nea de Ã³rbita
        const orbitGeo = new THREE.RingGeometry(radius-1, radius+1, 64);
        const orbitMat = new THREE.MeshBasicMaterial({color:0x4444ff, side:THREE.DoubleSide, transparent:true, opacity:0.3});
        const orbit = new THREE.Mesh(orbitGeo, orbitMat);
        orbit.rotation.x = Math.PI/2;
        galaxyGroup.add(orbit);

        // Guardar datos para animaciÃ³n
        planets.push({sprite, radius, angle, yPos, speed: 0.002 + Math.random()*0.003});
        sprite.position.set(
            Math.cos(angle)*radius,
            yPos,
            Math.sin(angle)*radius
        );
        sprite.scale.set(140,70,1);
        galaxyGroup.add(sprite);
    });

    // ðŸ‘‰ CONTROL TOTAL CON DEDO
    renderer.domElement.addEventListener("pointerdown", e=>{
        isDragging = true;
        prevX = e.clientX;
        prevY = e.clientY;
    });

    renderer.domElement.addEventListener("pointermove", e=>{
        if(!isDragging) return;
        let dx = e.clientX - prevX;
        let dy = e.clientY - prevY;

        galaxyGroup.rotation.y += dx * 0.002;
        galaxyGroup.rotation.x += dy * 0.002;

        prevX = e.clientX;
        prevY = e.clientY;
    });

    renderer.domElement.addEventListener("pointerup", ()=>{
        isDragging = false;
    });

    renderer.domElement.addEventListener("pointerleave", ()=>{
        isDragging = false;
    });

    window.addEventListener("resize", ()=>{
        camera.aspect = window.innerWidth/window.innerHeight;
        camera.updateProjectionMatrix();
        renderer.setSize(window.innerWidth, window.innerHeight);
    });
}

function animate(){
    requestAnimationFrame(animate);

    // Hacer girar las palabras como planetas
    planets.forEach(p=>{
        p.angle += p.speed;
        p.sprite.position.set(
            Math.cos(p.angle)*p.radius,
            p.yPos,
            Math.sin(p.angle)*p.radius
        );
    });

    renderer.render(scene,camera);
}
</script>

</body>
</html>
